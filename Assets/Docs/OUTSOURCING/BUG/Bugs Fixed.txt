
# BUG BRIEFING ‚Äî ELEVATOR SYSTEM

**Bug ID:** `BUG-ELEVATOR`
**Build:** Blocking\_01 (Vault Map / Navigation phase)
**Priority:** High (blocks multi-room access)

---

## üéØ Bug Description

The elevator system is **not working**.
When the player enters the **elevator trigger zone**, a UI panel with buttons **Floor +1, Floor 0, Floor ‚Äì1** should appear.
Clicking on a button should move the player **vertically only** (with a smooth animation, no teleport), keeping the same X position of entry.

* **+1** ‚Üí move the player to the upper floor
* **0** ‚Üí return the player to the elevator entry position
* **‚Äì1** ‚Üí move the player to the lower floor

Currently:

* The UI does not always appear.
* Player movement is missing or works as a **teleport**.
* The **camera** does not follow correctly.

---

## üîç Steps to Reproduce

1. Open **SCN\_VaultMap** scene.
2. Move the player close to the elevator.
3. Enter the trigger zone ‚Üí UI panel does not always show up.
4. Press one of the buttons (e.g., Floor +1) ‚Üí player does not move smoothly, or teleports, or stays in place.

---

## ‚úÖ Expected Behavior

* Entering the elevator zone activates the UI with floor buttons.
* Pressing a button should:

  * Move the player **vertically only** (smooth lerp/coroutine).
  * Keep the same X coordinate as the entry position.
  * At **Floor 0**, the player should return to the entry anchor position.
* The **camera** follows the player during the elevator ride.
* Input and UI are disabled during movement, re-enabled once the ride is complete.
* No errors or warnings in Console.

---

## ‚ùå Current Behavior

* UI not consistently visible.
* Player does not move or teleports instantly.
* Camera not aligned with the target floor.
* Buttons remain active even while the player is moving.

---

## üîß Implementation Notes

* Use **floor anchors** (e.g., `ElevatorAnchor+1`, `ElevatorAnchor0`, `ElevatorAnchor-1`).
* Player moves vertically, preserving entry X coordinate.
* Smooth motion (lerp/coroutine) simulating an elevator ride.
* Camera follows the player (`CameraController` or Cinemachine).
* UI toggles based on trigger zone + elevator state.

---

## üìå Acceptance Criteria

* Player correctly reaches each floor.
* Smooth vertical motion (no teleports).
* Camera follows player without delays.
* UI activates/deactivates correctly.
* Player input is blocked during elevator ride.
* No errors/warnings in Console.

---


Bug #1 ‚Äî HUD overlapped from Play (always unreadable)

Problem
As soon as the scene starts (before any interaction), the Pot HUD in the bottom-left appears visually overlapped/stacked and is hard to read.

How to Reproduce

Open SCN_VaultMap.

Press Play.

Observe the bottom-left HUD: text and elements look doubled/stacked even without clicking any pot.

(Optional) Resize the Game window or switch resolution: overlap persists.

Expected Behavior
A single, clean HUD panel is visible at the bottom-left, fully readable and consistent at all supported resolutions. No duplication/stacking.

Acceptance Checks

On Play, HUD shows once, clean, readable.

No visual doubling after window resize or resolution changes.

Bug #2 ‚Äî Clicking outside a pot does not clear selection

Problem
Clicking on an empty area of the scene (not on pots, not on UI) does not clear the current selection; the HUD keeps showing the last selected pot as if it were still active.

How to Reproduce

Press Play in SCN_VaultMap.

Click a pot ‚Üí HUD correctly shows that pot.

Click on an empty floor/wall area (not UI, not pot).

HUD still shows the previous pot (no deselection feedback).

Expected Behavior
Clicking on empty world clears the current selection. HUD switches to ‚ÄúNessun POT selezionato‚Äù (or equivalent ‚ÄúNo pot selected‚Äù) and any pot-specific buttons appear disabled.

Acceptance Checks

Empty-area click reliably clears the selection.

HUD text updates to ‚ÄúNo pot selected‚Äù (IT copy acceptable).

Pot-specific buttons are disabled when nothing is selected.

Bug #3 ‚Äî Pot not clickable when the Player stands on it

Problem
When the Player is standing over a pot, clicking directly on that pot often does not select it. To select, you must click slightly beside the pot, which is unintuitive.

How to Reproduce

Press Play in SCN_VaultMap.

Move the Player so they overlap a pot.

Click directly on the pot: selection/highlight does not trigger.

Click slightly to the side of the pot: selection/highlight does trigger.

Expected Behavior
Clicking a pot always selects it and updates HUD, even if the Player‚Äôs character stands over the pot (as long as the pointer is not over UI).

Acceptance Checks

With Player overlapping a pot, direct click on the pot selects it on the first try.

Highlight and HUD update occur immediately.

Clicking on UI never triggers pot selection.

Overall Pass Criteria (for all three)

No visual HUD overlap from the moment Play starts.

Empty-space clicks always clear selection and disable pot actions in the HUD.

Pots are consistently selectable even when the Player stands over them.

No regressions to existing gameplay (pot actions, CRY/actions counters, End Day, movement, UI click blocking).
